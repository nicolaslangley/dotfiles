# Dotfiles export
DOTFILES_DIR=$HOME/.dotfiles
export DOTFILES_DIR

# Antigen plugin manager config
source $DOTFILES_DIR/zsh/antigen_config.sh

# Platform specific misc setup
if [ "$(uname -s)" = "Darwin" ]; then
  # MacOS platform setup
  OS="OSX"
  # Set thread limit
  ulimit -n 4096
  # Enable iTerm2 shell integration on MacOS
  test -e "$HOME/.iterm2_shell_integration.zsh" && source "$HOME/.iterm2_shell_integration.zsh"
else
  # Assume Linux platforms if not MacOS
  OS=$(uname -s)
  # Set dircolors drive
  eval `dircolors ~/.dir_colors/`
  # Swap left alt and windows key
  setxkbmap -option altwin:swap_lalt_lwin
  # Make caps_lock behave like ctrl
  dconf write /org/gnome/desktop/input-sources/xkb-options "['caps:ctrl_modifier']"
fi
export OS

# Import runtimecore config
source $DOTFILES_DIR/zsh/esri_rtc_config.sh

# Import aliases config
source $DOTFILES_DIR/zsh/aliases.sh

# Import path config
source $DOTFILES_DIR/zsh/path.sh

# Import environment config
source $DOTFILES_DIR/zsh/environment.sh

# Start tmux on startup
if [ "$TMUX" = "" ]; then tmux; fi

